(this["webpackJsonpplay-youtube-videos"]=this["webpackJsonpplay-youtube-videos"]||[]).push([[0],{144:function(e,t,n){e.exports=n(319)},165:function(e,t,n){},213:function(e,t,n){},302:function(e,t){},319:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),l=n(23);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(153);var s=n(31),u=n(32),c=n(37),p=n(33),d=n(38),h=n(26),y=n(126);function f(e){return{type:"SET_LINK_DATA",payload:e}}function k(e){return{type:"SET_CURRENT_SONG",payload:e}}var b=function(e,t){return function(n){var a=e;n(f(a=a.filter((function(e){return e.key!==t}))))}},g=function(e){return function(t){t(k(e))}},m=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r))))._onEnd=function(){for(var e=0,t=n.props.currentPlayingId,a=0;a<n.props.linkData.length;a++)if(n.props.linkData[a].key===n.props.currentPlayingId){e=a;break}e===n.props.linkData.length-1?n.props.playThisSong(n.props.linkData[0].key):n.props.playThisSong(n.props.linkData[e+1].key),n.props.removeFromList(Object(h.a)(n.props.linkData),t)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{videoId:this.props.currentPlayingId,opts:{height:"390",width:"640",playerVars:{autoplay:1}},onReady:this._onReady,onEnd:this._onEnd})}},{key:"_onReady",value:function(e){e.target.pauseVideo()}}]),t}(r.a.Component),v=Object(l.b)((function(e){return{currentPlayingId:e.songsData.currentPlayingId,linkData:e.songsData.linkData}}),(function(e){return{playThisSong:function(t){return e(g(t))},removeFromList:function(t,n){return e(b(t,n))}}}))(m),D=n(322),O=n(6),S=(n(165),D.a.TreeNode),E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).removeFromPlayList=function(e,t){if(e.stopPropagation(),n.props.currentPlayingId!==t)n.props.removeFromList(Object(h.a)(n.props.linkData),t);else{for(var a=0,r=n.props.currentPlayingId,o=0;o<n.props.linkData.length;o++)if(n.props.linkData[o].key===n.props.currentPlayingId){a=o;break}a===n.props.linkData.length-1?n.props.playThisSong(n.props.linkData[0].key):n.props.playThisSong(n.props.linkData[a+1].key),n.props.removeFromList(Object(h.a)(n.props.linkData),r)}},n.onDrop=function(e){var t,a,r,o=e.node.props.eventKey,i=e.dragNode.props.eventKey,l=e.node.props.pos.split("-"),s=e.dropPosition-Number(l[l.length-1]),u=function e(t,n,a){t.forEach((function(t,r,o){return t.key===n?a(t,r,o):t.children?e(t.children,n,a):void 0}))},c=Object(h.a)(n.props.linkData);(u(c,i,(function(e,n,a){a.splice(n,1),t=e})),(e.node.props.children||[]).length>0&&e.node.props.expanded&&1===s)?u(c,o,(function(e){e.children=e.children||[],e.children.unshift(t)})):(u(c,o,(function(e,t,n){a=n,r=t})),-1===s?a.splice(r,0,t):a.splice(r+1,0,t));n.props.alterLinks(c)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,{className:"draggable-tree",draggable:!0,blockNode:!0,onDragEnter:this.onDragEnter,onDrop:this.onDrop},this.props.linkData.map((function(t){return r.a.createElement(S,{key:t.key,title:r.a.createElement("p",{onClick:function(){return e.props.playThisSong(t.key)},style:{width:"300px"}},t.title,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(O.a,{type:"close-circle",onClick:function(n){return e.removeFromPlayList(n,t.key)}})))})}))))}}]),t}(r.a.Component),j=Object(l.b)((function(e){return{linkData:e.songsData.linkData,currentPlayingId:e.songsData.currentPlayingId}}),(function(e){return{playThisSong:function(t){return e(g(t))},removeFromList:function(t,n){return e(b(t,n))},alterLinks:function(t){return e(function(e){return function(t){t(f(e))}}(t))}}}))(E),T=(n(213),n(321)),I=n(323),w=n(101),_=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={help:"",validateStatus:"",inputText:""},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll((function(e,t){if(e)n.setState({help:"Please paste your youtube link!",validateStatus:"error"});else{var a=n.youtube_parser(t.youtubeLink);if(a)if(n.props.linkData&&n.props.linkData.length>0){var r=n.props.linkData.filter((function(e){return e.key===a}));r&&r.length>0?n.setState({help:"This link already been added!",validateStatus:"error"}):(n.props.appendLink(a,Object(h.a)(n.props.linkData),n.props.songIndex),n.setState({validateStatus:"success"}),setTimeout((function(){n.props.form.resetFields()}),3e3))}else n.props.appendLink(a,Object(h.a)(n.props.linkData),n.props.songIndex),n.setState({validateStatus:"success"}),setTimeout((function(){n.props.form.resetFields()}),3e3);else n.setState({help:"Not a valid Link!",validateStatus:"error"});console.log(n.youtube_parser(t.youtubeLink))}setTimeout((function(){n.resetValidations()}),3e3)}))},n.resetValidations=function(){n.setState({help:"",validateStatus:""})},n.youtube_parser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(T.a,{onSubmit:this.handleSubmit,hideRequiredMark:!0},r.a.createElement(T.a.Item,{label:"Add Youtube-link",validateStatus:this.state.validateStatus,hasFeedback:!0,help:this.state.help,colon:!1},t("youtubeLink",{rules:[{required:!0,message:""}]})(r.a.createElement(I.a,{placeholder:"Please paste your youtube link here",onChange:function(){return e.resetValidations()}}))),r.a.createElement(T.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Add"))))}}]),t}(r.a.Component),L=T.a.create({name:"register"})(_),P=Object(l.b)((function(e){return{songIndex:e.songsData.songIndex,linkData:e.songsData.linkData}}),(function(e){return{appendLink:function(t,n,a){return e(function(e,t,n){return function(a){var r=t,o=n+1;0===r.length&&a(k(e)),r.push({title:"Link "+o,key:e}),a(f(r)),a({type:"SET_SONG_INDEX",payload:o})}}(t,n,a))}}}))(L),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"outerDiv"},this.props.linkData.length>0?r.a.createElement(v,null):"",r.a.createElement(j,null)))}}]),t}(r.a.Component),A=Object(l.b)((function(e){return{linkData:e.songsData.linkData}}),null)(N),x=n(30),F=n(56),R=n(138),C=n(139),G={linkData:[],currentPlayingId:"",songIndex:0},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=function(t){return Object.assign({},e,t)},o=function(){return Object.assign({},e,G)};switch(n){case"SET_LINK_DATA":return r({linkData:a});case"SET_CURRENT_SONG":return r({currentPlayingId:a});case"SET_SONG_INDEX":return r({songIndex:a});case"RESET_DATA":return o();default:return e}},K=Object(x.combineReducers)({songsData:V}),W=Object(F.withReduxStateSync)(K),M=n(100),q=n.n(M);q.a.defaults.withCredentials=!0;var B=[Object(F.createStateSyncMiddleware)({blacklist:["TOGGLE_TODO"]}),C.a.withExtraArgument(q.a)],J=x.applyMiddleware.apply(void 0,B),U=Object(x.createStore)(W,Object(R.composeWithDevTools)(J));Object(F.initStateWithPrevTab)(U);var X=U;i.a.render(r.a.createElement(l.a,{store:X},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[144,1,2]]]);
//# sourceMappingURL=main.ecd4aa85.chunk.js.map