(this["webpackJsonpplay-youtube-videos"]=this["webpackJsonpplay-youtube-videos"]||[]).push([[0],{142:function(e,t,n){e.exports=n(316)},163:function(e,t,n){},211:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),s=n(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(151);var l=n(30),u=n(31),c=n(36),p=n(32),d=n(37),h=n(25),f=n(124);function y(e){return{type:"SET_LINK_DATA",payload:e}}function k(e){return{type:"SET_CURRENT_SONG",payload:e}}var g=function(e,t){return function(n){var a=e;n(y(a=a.filter((function(e){return e.key!==t}))))}},m=function(e){return function(t){t(k(e))}},b=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r))))._onEnd=function(){for(var e=0,t=n.props.currentPlayingId,a=0;a<n.props.linkData.length;a++)if(n.props.linkData[a].key===n.props.currentPlayingId){e=a;break}e===n.props.linkData.length-1?n.props.playThisSong(n.props.linkData[0].key):n.props.playThisSong(n.props.linkData[e+1].key),n.props.removeFromList(Object(h.a)(n.props.linkData),t)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{videoId:this.props.currentPlayingId,opts:{height:"390",width:"640",playerVars:{autoplay:1}},onReady:this._onReady,onEnd:this._onEnd})}},{key:"_onReady",value:function(e){e.target.pauseVideo()}}]),t}(r.a.Component),v=Object(s.b)((function(e){return{currentPlayingId:e.songsData.currentPlayingId,linkData:e.songsData.linkData}}),(function(e){return{playThisSong:function(t){return e(m(t))},removeFromList:function(t,n){return e(g(t,n))}}}))(b),D=n(318),E=n(5),O=(n(163),D.a.TreeNode),S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).removeFromPlayList=function(e,t){if(e.stopPropagation(),n.props.currentPlayingId!==t)n.props.removeFromList(Object(h.a)(n.props.linkData),t);else{for(var a=0,r=n.props.currentPlayingId,o=0;o<n.props.linkData.length;o++)if(n.props.linkData[o].key===n.props.currentPlayingId){a=o;break}a===n.props.linkData.length-1?n.props.playThisSong(n.props.linkData[0].key):n.props.playThisSong(n.props.linkData[a+1].key),n.props.removeFromList(Object(h.a)(n.props.linkData),r)}},n.onDrop=function(e){var t,a,r,o=e.node.props.eventKey,i=e.dragNode.props.eventKey,s=e.node.props.pos.split("-"),l=e.dropPosition-Number(s[s.length-1]),u=function e(t,n,a){t.forEach((function(t,r,o){return t.key===n?a(t,r,o):t.children?e(t.children,n,a):void 0}))},c=Object(h.a)(n.props.linkData);(u(c,i,(function(e,n,a){a.splice(n,1),t=e})),(e.node.props.children||[]).length>0&&e.node.props.expanded&&1===l)?u(c,o,(function(e){e.children=e.children||[],e.children.unshift(t)})):(u(c,o,(function(e,t,n){a=n,r=t})),-1===l?a.splice(r,0,t):a.splice(r+1,0,t));n.props.alterLinks(c)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,{className:"draggable-tree",draggable:!0,blockNode:!0,onDragEnter:this.onDragEnter,onDrop:this.onDrop},this.props.linkData.map((function(t){return r.a.createElement(O,{key:t.key,title:r.a.createElement("p",{onClick:function(){return e.props.playThisSong(t.key)},style:{width:"300px"}},t.title,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(E.a,{type:"close-circle",onClick:function(n){return e.removeFromPlayList(n,t.key)}})))})}))))}}]),t}(r.a.Component),j=Object(s.b)((function(e){return{linkData:e.songsData.linkData,currentPlayingId:e.songsData.currentPlayingId}}),(function(e){return{playThisSong:function(t){return e(m(t))},removeFromList:function(t,n){return e(g(t,n))},alterLinks:function(t){return e(function(e){return function(t){t(y(e))}}(t))}}}))(S),T=(n(211),n(317)),I=n(319),_=n(99),w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={help:"",validateStatus:"",inputText:""},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll((function(e,t){if(e)n.setState({help:"Please paste your youtube link!",validateStatus:"error"});else{var a=n.youtube_parser(t.youtubeLink);if(a)if(n.props.linkData&&n.props.linkData.length>0){var r=n.props.linkData.filter((function(e){return e.key===a}));r&&r.length>0?n.setState({help:"This link already been added!",validateStatus:"error"}):(n.props.appendLink(a,Object(h.a)(n.props.linkData),n.props.songIndex),n.setState({validateStatus:"success"}),setTimeout((function(){n.props.form.resetFields()}),3e3))}else n.props.appendLink(a,Object(h.a)(n.props.linkData),n.props.songIndex),n.setState({validateStatus:"success"}),setTimeout((function(){n.props.form.resetFields()}),3e3);else n.setState({help:"Not a valid Link!",validateStatus:"error"});console.log(n.youtube_parser(t.youtubeLink))}setTimeout((function(){n.resetValidations()}),3e3)}))},n.resetValidations=function(){n.setState({help:"",validateStatus:""})},n.youtube_parser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(T.a,{onSubmit:this.handleSubmit,hideRequiredMark:!0},r.a.createElement(T.a.Item,{label:"Add Youtube-link",validateStatus:this.state.validateStatus,hasFeedback:!0,help:this.state.help,colon:!1},t("youtubeLink",{rules:[{required:!0,message:""}]})(r.a.createElement(I.a,{placeholder:"Please paste your youtube link here",onChange:function(){return e.resetValidations()}}))),r.a.createElement(T.a.Item,null,r.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Add"))))}}]),t}(r.a.Component),L=T.a.create({name:"register"})(w),P=Object(s.b)((function(e){return{songIndex:e.songsData.songIndex,linkData:e.songsData.linkData}}),(function(e){return{appendLink:function(t,n,a){return e(function(e,t,n){return function(a){var r=t,o=n+1;0===r.length&&a(k(e)),r.push({title:"Link "+o,key:e}),a(y(r)),a({type:"SET_SONG_INDEX",payload:o})}}(t,n,a))}}}))(L),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"outerDiv"},this.props.linkData.length>0?r.a.createElement(v,null):"",r.a.createElement(j,null)))}}]),t}(r.a.Component),A=Object(s.b)((function(e){return{linkData:e.songsData.linkData}}),null)(N),x=n(29),F=n(136),C=n(137),R={linkData:[],currentPlayingId:"",songIndex:0},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=function(t){return Object.assign({},e,t)},o=function(){return Object.assign({},e,R)};switch(n){case"SET_LINK_DATA":return r({linkData:a});case"SET_CURRENT_SONG":return r({currentPlayingId:a});case"SET_SONG_INDEX":return r({songIndex:a});case"RESET_DATA":return o();default:return e}},G=Object(x.combineReducers)({songsData:V}),K=n(98),W=n.n(K);W.a.defaults.withCredentials=!0;var q=Object(x.applyMiddleware)(C.a.withExtraArgument(W.a)),B=Object(x.createStore)(G,Object(F.composeWithDevTools)(q));i.a.render(r.a.createElement(s.a,{store:B},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[142,1,2]]]);
//# sourceMappingURL=main.52276ea9.chunk.js.map